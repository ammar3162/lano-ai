;/*FB_PKG_DELIM*/

__d("InstamadilloPostReplySnippet",["fbt","MAWCurrentUser","WAJids"],(function(a,b,c,d,e,f,g,h){"use strict";function i(a){var b=d("MAWCurrentUser").getID();return d("WAJids").isAuthorMe(a)||d("WAJids").extractUserId(a)===b}function a(a,b){return i(a)?h._(/*BTDS*/"\u0644\u0642\u062f \u0642\u0645\u062a \u0628\u0627\u0644\u0625\u0634\u0627\u0631\u0629 \u0625\u0644\u0649 \u0040{username} \u0641\u064a \u0645\u0646\u0634\u0648\u0631\u0643",[h._param("username",b)]).toString():h._(/*BTDS*/"\u0630\u0643\u0631\u0643 \u0641\u064a \u0645\u0646\u0634\u0648\u0631\u0647").toString()}g.isCurrentUserMe=i;g.getMessageReplySnippetForPost=a}),226);
__d("InstamadilloStoryReplySnippet",["fbt","IGDDataclassTypes.flow","InstamadilloPostReplySnippet"],(function(a,b,c,d,e,f,g,h){"use strict";function i(a,b){if(b==null)return null;return d("InstamadilloPostReplySnippet").isCurrentUserMe(a)?h._(/*BTDS*/"\u0644\u0642\u062f \u0623\u0631\u0633\u0644\u062a \u0623\u0628\u0631\u0632 \u0642\u0635\u0635 \u200e\u0040{username}\u200e",[h._param("username",b)]):h._(/*BTDS*/"\u062a\u0645 \u0625\u0631\u0633\u0627\u0644 \u0623\u0628\u0631\u0632 \u0642\u0635\u0635 \u200e\u0040{username}\u200e",[h._param("username",b)])}function j(a){return d("InstamadilloPostReplySnippet").isCurrentUserMe(a)?h._(/*BTDS*/"\u0644\u0642\u062f \u062a\u0641\u0627\u0639\u0644\u062a \u0645\u0639 \u0642\u0635\u062a\u0647"):h._(/*BTDS*/"\u062a\u0645 \u0627\u0644\u062a\u0641\u0627\u0639\u0644 \u0645\u0639 \u0642\u0635\u062a\u0643")}function k(a,b){if(b==null)return null;return d("InstamadilloPostReplySnippet").isCurrentUserMe(a)?h._(/*BTDS*/"\u0644\u0642\u062f \u0623\u0631\u0633\u0644\u062a \u0642\u0635\u0629 \u0040{username}",[h._param("username",b)]):h._(/*BTDS*/"\u062a\u0645 \u0625\u0631\u0633\u0627\u0644 \u0642\u0635\u0629 \u0040{username}",[h._param("username",b)])}function l(a){return d("InstamadilloPostReplySnippet").isCurrentUserMe(a)?h._(/*BTDS*/"\u0644\u0642\u062f \u0642\u0645\u062a \u0628\u0627\u0644\u0631\u062f \u0639\u0644\u0649 \u0642\u0635\u062a\u0647"):h._(/*BTDS*/"\u062a\u0645 \u0627\u0644\u0631\u062f \u0639\u0644\u0649 \u0642\u0635\u062a\u0643")}function m(a,b){if(b==null)return null;return d("InstamadilloPostReplySnippet").isCurrentUserMe(a)?h._(/*BTDS*/"\u0644\u0642\u062f \u0630\u0643\u0631\u062a \u0040{username} \u0641\u064a \u0642\u0635\u062a\u0643",[h._param("username",b)]):h._(/*BTDS*/"\u062a\u0645 \u0630\u0643\u0631\u0643 \u0641\u064a \u0642\u0635\u062a\u0647")}function a(a,b,c){var e;switch(b.action_type){case d("IGDDataclassTypes.flow").XmsgIgXmaActionType.React:e=j(a);break;case d("IGDDataclassTypes.flow").XmsgIgXmaActionType.Share:e=b.content_type===d("IGDDataclassTypes.flow").XmsgIgReceiverFetchContentType.StoryHighlight?i(a,b.username):k(a,b.username);break;case d("IGDDataclassTypes.flow").XmsgIgXmaActionType.Reply:e=l(a);break;case d("IGDDataclassTypes.flow").XmsgIgXmaActionType.Mention:e=m(a,c);break}return(b=e)==null?void 0:b.toString()}g.getMessageReplySnippetForStory=a}),226);
__d("getSendStoryToInstamadilloRecipient",["fbt","I64","IGDDataclassTypes.flow","InstamadilloStoryReplySnippet","LSAuthorityLevel","LSIntEnum","LSMessageReplySourceTypeV2","LSMessageSendStatus","MNXMAPreviewImageDecorationType","PolarisLinkBuilder","asyncToGeneratorRuntime","issueSendInstamadilloXMAReceiverFetch","renderInstamadilloOptimisticXmaReceiverFetch"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j;function a(a,e,f,g,k){var l=d("PolarisLinkBuilder").BASE_INSTAGRAM_URL+d("PolarisLinkBuilder").buildDirectUserStoryLink(e+"_"+(f!=null?f:"")),m={__typename:"XMSGIgReceiverFetchXmaStoryFetchParams",reel_id:a,story_igid:e},n={__typename:"XMSGIgXmaContentRefDataclass",action_type:k,content_type:d("IGDDataclassTypes.flow").XmsgIgReceiverFetchContentType.Story,fetch_params:m,owner_fbid:f,target_url:l,username:g},o={authorityLevel:(i||(i=d("I64"))).of_int32(c("LSAuthorityLevel").OPTIMISTIC),replySnippet:(a=d("InstamadilloStoryReplySnippet").getMessageReplySnippetForStory("@me",n))!=null?a:void 0,replySourceTypeV2:(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").IG_STORY_SHARE),sendStatus:i.of_int32(c("LSMessageSendStatus").SENDING_TO_SERVER),sendStatusV2:i.of_int32(1)},p={actionUrl:l,nativeUrl:l,targetId:i.of_string(e),type_:"xma_web_url"},q={authorityLevel:i.of_int32(c("LSAuthorityLevel").OPTIMISTIC),previewImageDecorationType:j.ofNumber(c("MNXMAPreviewImageDecorationType").INSTAGRAM_ICON),subtitleText:h._(/*BTDS*/"\u0642\u0635\u0629").toString(),titleText:g};return function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g,h){var i=k===d("IGDDataclassTypes.flow").XmsgIgXmaActionType.React||d("IGDDataclassTypes.flow").XmsgIgXmaActionType.Reply,j={contentRef:JSON.stringify(n),text:i?f:void 0};try{var l=(yield c("renderInstamadilloOptimisticXmaReceiverFetch")(a,j,m,q,p,o));yield c("issueSendInstamadilloXMAReceiverFetch")({comment:i?void 0:f,isDisappearingModeSettingOn:b,offlineThreadingId:l,openEb:e,receiverFetchXma:JSON.stringify(j),threadKey:a});g==null||g(a)}catch(b){h==null||h(b,a)}});return function(b,c,d,e,f,g){return a.apply(this,arguments)}}()}g["default"]=a}),226);